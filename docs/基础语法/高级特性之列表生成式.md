# 高级特性之列表生成式

如果看的python代码多的话，列表生成式的写法可以说非常常见了，想要用好python，这个高级特性不可获取


### 1. 列表生成式

如何快速的生成一个1,20的列表?

```sh
>>> list(range(1,20))
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
```

如何生成 `[1*1,2*2,...]` 格式的列表?

```sh
>>> [ x*x for x in range(1,10)]
[1, 4, 9, 16, 25, 36, 49, 64, 81]
```

针对上面的列表再做一个小的限制，排除掉5*5这个，如何处理？

```sh
>>> list(x * x for x in range(1,10) if x!=5)
[1, 4, 9, 16, 36, 49, 64, 81]
```

简单来看下这个列表生成式规则，其实和jdk8中的lambda比较类似

```
元素的操作  for x in 列表 条件过滤
```

**进阶版**

多个列表式合在一起，组成多维数组遍历的效果

```sh
>>> list(x * y for x in range(1, 5) for y in range(2, 6))
[2, 3, 4, 5, 4, 6, 8, 10, 6, 9, 12, 15, 8, 12, 16, 20]
```

上面的结果等同于

```sh
>>> ans=[]
>>> for x in range(1, 5):
...   for y in range(2, 6):
...     ans.append(x*y)
... 
>>> ans
[2, 3, 4, 5, 4, 6, 8, 10, 6, 9, 12, 15, 8, 12, 16, 20]
```

字典的遍历方式

```sh
>>> d
{'b': 23, 'cd': 12, 'd': 'add'}
>>> [k +"=" + str(v) for k,v in d.items()]
['b=23', 'cd=12', 'd=add']
```
